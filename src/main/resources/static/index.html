<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fullstack Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>
<body class="container">
<h1>Fullstack Demo</h1>

<button id="btn-fetch-players" class="btn btn-primary">Fetch Players</button>
<table class="table">
    <thead>
    <tr><th>Name</th><th>Country</th><th>Position</th></tr>
    </thead>
    <tbody id="table-rows"> <!-- Add ID here -->
    </tbody>
</table>
<script>
    const fetchPlayers = document.getElementById('btn-fetch-players');
    const tbody = document.querySelector('#table-rows');
    const url = 'https://hyggeapp.azurewebsites.net/api/players';
    fetchPlayers.addEventListener('click', () => {
        fetch(url)
            .then(response => response.json())
            .then(players => {
                const rowsAsStr = players.map(player => {
                    return `<tr>
                        <td>${player.name}</td>
                        <td>${player.country}</td>
                        <td>${player.position}</td>
                    </tr>`
                }).join('');
                tbody.innerHTML = rowsAsStr; // Use 'tbody' instead of '#table-rows'
            });
    })
</script>
</body>
</html>
